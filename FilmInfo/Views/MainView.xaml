<Window x:Class="FilmInfo.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FilmInfo"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity" 
        mc:Ignorable="d"
        Title="FilmInfo" Height="350" Width="525"
        ResizeMode="CanResizeWithGrip"
        DataContext="{Binding MainViewModel, Source={StaticResource ViewModelLocator}}">

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header="choose Folder..." Command="{Binding OpenDirCommand}"/>
            </MenuItem>
        </Menu>
        <StatusBar DockPanel.Dock="Bottom" Height="15"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <!--<ListBox FontWeight="Bold" FontSize="10" DisplayMemberPath="Name" ItemsSource="{Binding Movies}" SelectedItem="{Binding SelectedMovie}"/>-->
            <StackPanel Background="#FFF0F0F0">
                <Label Content="Sortierung:" Margin="2,0,0,0"/>
                <StackPanel Margin="10,0,0,0">
                    <RadioButton Content="Name" GroupName="SortGroup" Command="{Binding SortCommand}" CommandParameter="name"/>
                    <RadioButton Content="Datum" GroupName="SortGroup" Command="{Binding SortCommand}" CommandParameter="date"/>
                    <RadioButton Content="Neueste" GroupName="SortGroup" Command="{Binding SortCommand}" CommandParameter="newest"/>
                </StackPanel>
            </StackPanel>
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center"/>
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <TextBlock HorizontalAlignment="Center" FontSize="28" Margin="5" FontWeight="Bold" Text="{Binding SelectedMovie.Name}"/>
                <ListBox Grid.Row="1" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ItemsSource="{Binding Movies}" SelectedItem="{Binding SelectedMovie}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Grid Height="350" Width="250">
                                <Grid.Effect>
                                    <DropShadowEffect Color="Gray" BlurRadius="14" ShadowDepth="10" Direction="225" />
                                </Grid.Effect>
                                <Image Source="{Binding PosterFileFull}" Margin="5"/>
                                <TextBlock Text="{Binding Name}" TextWrapping="Wrap" FontSize="15" FontWeight="Bold" MaxWidth="250" TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Bottom" Background="#BFFFFFFF" />
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                </ListBox>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
